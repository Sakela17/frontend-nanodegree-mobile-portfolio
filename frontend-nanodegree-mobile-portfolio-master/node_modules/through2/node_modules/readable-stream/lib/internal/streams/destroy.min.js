var processNextTick=require("process-nextick-args");
function destroy(a,b){var c=this,d=this._writableState&&this._writableState.destroyed;this._readableState&&this._readableState.destroyed||d?b?b(a):!a||this._writableState&&this._writableState.errorEmitted||processNextTick(emitErrorNT,this,a):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?(processNextTick(emitErrorNT,c,a),c._writableState&&(c._writableState.errorEmitted=!0)):b&&b(a)}))}
function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(a,b){a.emit("error",b)}module.exports={destroy:destroy,undestroy:undestroy};
