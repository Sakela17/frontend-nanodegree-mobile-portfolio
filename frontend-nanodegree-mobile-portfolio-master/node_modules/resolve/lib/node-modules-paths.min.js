var path=require("path"),parse=path.parse||require("path-parse");module.exports=function(a,c){var e=c&&c.moduleDirectory?[].concat(c.moduleDirectory):["node_modules"],b=path.resolve(a),d="/";/^([A-Za-z]:)/.test(b)?d="":/^\\\\/.test(b)&&(d="\\\\");a=[b];for(b=parse(b);b.dir!==a[a.length-1];)a.push(b.dir),b=parse(b.dir);a=a.reduce(function(a,b){return a.concat(e.map(function(a){return path.join(d,b,a)}))},[]);return c&&c.paths?a.concat(c.paths):a};
