var path=require("path"),test=require("tape"),resolve=require("../");
test("#62: deep module references and the pathFilter",function(a){a.plan(9);var c=path.join(__dirname,"/pathfilter/deep_ref");resolve("deep/ref",{basedir:c},function(b,d,e){b&&a.fail(b);a.equal(e.version,"1.2.3");a.equal(d,path.join(c,"node_modules/deep/ref.js"))});resolve("deep/deeper/ref",{basedir:c},function(b,d,e){b&&a.fail(b);a.notEqual(e,void 0);a.equal(e.version,"1.2.3");a.equal(d,path.join(c,"node_modules/deep/deeper/ref.js"))});resolve("deep/ref",{basedir:c,pathFilter:function(b,d,e){a.equal(b.version,
"1.2.3");a.equal(d,path.join(c,"node_modules/deep/ref"));a.equal(e,"ref");return"alt"}},function(b,d,e){b&&a.fail(b);a.equal(d,path.join(c,"node_modules/deep/alt.js"))})});
