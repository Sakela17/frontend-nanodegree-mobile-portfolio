function objectToString(a){return Object.prototype.toString.call(a)}var util={isArray:function(a){return Array.isArray(a)||"object"===typeof a&&"[object Array]"===objectToString(a)},isDate:function(a){return"object"===typeof a&&"[object Date]"===objectToString(a)},isRegExp:function(a){return"object"===typeof a&&"[object RegExp]"===objectToString(a)},getRegExpFlags:function(a){var b="";a.global&&(b+="g");a.ignoreCase&&(b+="i");a.multiline&&(b+="m");return b}};
"object"===typeof module&&(module.exports=clone);
function clone(a,b,d,f){function k(a,d){if(null===a)return null;if(0==d||"object"!=typeof a)return a;if(util.isArray(a))var c=[];else if(util.isRegExp(a))c=new RegExp(a.source,util.getRegExpFlags(a)),a.lastIndex&&(c.lastIndex=a.lastIndex);else if(util.isDate(a))c=new Date(a.getTime());else{if(p&&Buffer.isBuffer(a))return c=new Buffer(a.length),a.copy(c),c;if("undefined"==typeof f){var e=Object.getPrototypeOf(a);c=Object.create(e)}else c=Object.create(f),e=f}if(b){var m=l.indexOf(a);if(-1!=m)return n[m];
l.push(a);n.push(c)}for(var g in a){var h;e&&(h=Object.getOwnPropertyDescriptor(e,g));h&&null==h.set||(c[g]=k(a[g],d-1))}return c}var l=[],n=[],p="undefined"!=typeof Buffer;"undefined"==typeof b&&(b=!0);"undefined"==typeof d&&(d=Infinity);return k(a,d)}clone.clonePrototype=function(a){if(null===a)return null;var b=function(){};b.prototype=a;return new b};
