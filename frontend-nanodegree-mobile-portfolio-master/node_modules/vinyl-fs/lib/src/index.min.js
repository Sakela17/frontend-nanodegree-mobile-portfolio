var defaults=require("defaults"),through=require("through2"),gs=require("glob-stream"),File=require("vinyl"),getContents=require("./getContents"),getStats=require("./getStats");function createFile(a,b,c){c(null,new File(a))}
function src(a,b){b=b||{};var c=through.obj();if(!isValidGlob(a))throw Error("Invalid glob argument: "+a);if(Array.isArray(a)&&0===a.length)return process.nextTick(c.end.bind(c)),c;b=defaults(b,{read:!0,buffer:!0});a=gs.create(a,b).pipe(through.obj(createFile)).pipe(getStats(b));!1!==b.read&&(a=a.pipe(getContents(b)));return a.pipe(c)}function isValidGlob(a){return"string"===typeof a?!0:Array.isArray(a)&&0!==a.length?a.every(isValidGlob):Array.isArray(a)&&0===a.length?!0:!1}module.exports=src;
