var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,f=0;f<d;f++){var e=a[f];if(b.call(c,e,f,a))return{i:f,v:e}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");var fs=require("fs"),path=require("path"),_=require("lodash"),glob=require("glob"),minimatch=require("minimatch"),globule=exports;function processPatterns(a,b){return _.flatten(a).reduce(function(a,d){return 0===d.indexOf("!")?(d=d.slice(1),_.difference(a,b(d))):_.union(a,b(d))},[])}
globule.match=function(a,b,c){if(null==a||null==b)return[];_.isArray(a)||(a=[a]);_.isArray(b)||(b=[b]);return 0===a.length||0===b.length?[]:processPatterns(a,function(a){return minimatch.match(b,a,c||{})})};globule.isMatch=function(){return 0<globule.match.apply(null,arguments).length};
globule.find=function(){var a=_.toArray(arguments),b=_.isPlainObject(a[a.length-1])?a.pop():{},a=_.isArray(a[0])?a[0]:a;if(0===a.length)return[];var c=b.srcBase||b.cwd,d=_.extend({},b);c&&(d.cwd=c);a=processPatterns(a,function(a){return glob.sync(a,d)});c&&b.prefixBase&&(a=a.map(function(a){return path.join(c,a)}));b.filter&&(a=a.filter(function(a){c&&!b.prefixBase&&(a=path.join(c,a));try{return _.isFunction(b.filter)?b.filter(a,b):fs.statSync(a)[b.filter]()}catch(e){return!1}}));return a};
var pathSeparatorRe=/[\/\\]/g,extDotRe={first:/(\.[^\/]*)?$/,last:/(\.[^\/\.]*)?$/};function rename(a,b){b.flatten&&(a=path.basename(a));b.ext&&(a=a.replace(extDotRe[b.extDot],b.ext));b.destBase&&(a=path.join(b.destBase,a));return a}
globule.mapping=function(a,b){if(null==a)return[];b=_.defaults({},b,{extDot:"first",rename:rename});var c=[],d={};a.forEach(function(a){var e=b.rename(a,b);b.srcBase&&(a=path.join(b.srcBase,a));e=e.replace(pathSeparatorRe,"/");a=a.replace(pathSeparatorRe,"/");d[e]?d[e].src.push(a):(c.push({src:[a],dest:e}),d[e]=c[c.length-1])});return c};globule.findMapping=function(a,b){return globule.mapping(globule.find(a,b),b)};
