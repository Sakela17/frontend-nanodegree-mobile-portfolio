var t=require("tap"),origCwd=process.cwd();process.chdir(__dirname);var glob=require("../"),path=require("path");t.test(".",function(a){glob("/b*/**",{globDebug:!0,root:"."},function(b,c){a.ifError(b);a.like(c,[]);a.end()})});
t.test("a",function(a){console.error("root="+path.resolve("a"));glob("/b*/**",{globDebug:!0,root:path.resolve("a")},function(b,c){a.ifError(b);b="/b /b/c /b/c/d /bc /bc/e /bc/e/f".split(" ").map(function(a){return path.join(path.resolve("a"),a).replace(/\\/g,"/")});a.like(c,b);a.end()})});
t.test("root=a, cwd=a/b",function(a){glob("/b*/**",{globDebug:!0,root:"a",cwd:path.resolve("a/b")},function(b,c){a.ifError(b);a.like(c,"/b /b/c /b/c/d /bc /bc/e /bc/e/f".split(" ").map(function(a){return path.join(path.resolve("a"),a).replace(/\\/g,"/")}));a.end()})});t.test("cd -",function(a){process.chdir(origCwd);a.end()});
