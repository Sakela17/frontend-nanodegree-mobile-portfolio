var path=require("path"),fs=require("fs"),_0777=511;module.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP;
function mkdirP(d,a,c,b){"function"===typeof a?(c=a,a={}):a&&"object"===typeof a||(a={mode:a});var e=a.mode,g=a.fs||fs;void 0===e&&(e=_0777&~process.umask());b||(b=null);var f=c||function(){};d=path.resolve(d);g.mkdir(d,e,function(c){if(!c)return b=b||d,f(null,b);switch(c.code){case "ENOENT":mkdirP(path.dirname(d),a,function(b,c){b?f(b,c):mkdirP(d,a,f,c)});break;default:g.stat(d,function(a,d){a||!d.isDirectory()?f(c,b):f(null,b)})}})}
mkdirP.sync=function sync(a,c,b){c&&"object"===typeof c||(c={mode:c});var e=c.mode,g=c.fs||fs;void 0===e&&(e=_0777&~process.umask());b||(b=null);a=path.resolve(a);try{g.mkdirSync(a,e),b=b||a}catch(h){switch(h.code){case "ENOENT":b=sync(path.dirname(a),c,b);sync(a,c,b);break;default:try{var f=g.statSync(a)}catch(k){throw h;}if(!f.isDirectory())throw h;}}return b};
