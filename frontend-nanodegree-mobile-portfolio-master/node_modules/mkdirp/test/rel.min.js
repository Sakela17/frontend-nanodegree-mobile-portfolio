var mkdirp=require("../"),path=require("path"),fs=require("fs"),exists=fs.exists||path.exists,test=require("tap").test,_0777=511,_0755=493;
test("rel",function(b){b.plan(5);var a=Math.floor(Math.random()*Math.pow(16,4)).toString(16),d=Math.floor(Math.random()*Math.pow(16,4)).toString(16),e=Math.floor(Math.random()*Math.pow(16,4)).toString(16),f=process.cwd();process.chdir("/tmp");var c=[a,d,e].join("/");mkdirp(c,_0755,function(a){b.ifError(a);exists(c,function(a){b.ok(a,"file created");fs.stat(c,function(a,c){b.ifError(a);process.chdir(f);b.equal(c.mode&_0777,_0755);b.ok(c.isDirectory(),"target not a directory")})})})});
