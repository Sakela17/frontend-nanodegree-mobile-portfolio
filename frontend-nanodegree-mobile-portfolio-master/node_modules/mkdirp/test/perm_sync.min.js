var mkdirp=require("../"),path=require("path"),fs=require("fs"),exists=fs.exists||path.exists,test=require("tap").test,_0777=511,_0755=493;test("sync perm",function(a){a.plan(4);var b="/tmp/"+(1073741824*Math.random()).toString(16)+".json";mkdirp.sync(b,_0755);exists(b,function(c){a.ok(c,"file created");fs.stat(b,function(b,c){a.ifError(b);a.equal(c.mode&_0777,_0755);a.ok(c.isDirectory(),"target not a directory")})})});
test("sync root perm",function(a){a.plan(3);mkdirp.sync("/tmp",_0755);exists("/tmp",function(b){a.ok(b,"file created");fs.stat("/tmp",function(b,d){a.ifError(b);a.ok(d.isDirectory(),"target not a directory")})})});
