var mkdirp=require("../"),path=require("path"),test=require("tap").test,mockfs=require("mock-fs"),_0777=511,_0755=493;
test("opts.fs sync",function(b){b.plan(4);var c=Math.floor(Math.random()*Math.pow(16,4)).toString(16),e=Math.floor(Math.random()*Math.pow(16,4)).toString(16),f=Math.floor(Math.random()*Math.pow(16,4)).toString(16),a="/beep/boop/"+[c,e,f].join("/"),d=mockfs.fs();mkdirp.sync(a,{fs:d,mode:_0755});d.exists(a,function(c){b.ok(c,"created file");d.stat(a,function(c,a){b.ifError(c);b.equal(a.mode&_0777,_0755);b.ok(a.isDirectory(),"target not a directory")})})});
