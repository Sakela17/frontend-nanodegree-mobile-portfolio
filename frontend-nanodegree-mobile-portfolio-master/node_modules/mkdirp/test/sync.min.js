var mkdirp=require("../"),path=require("path"),fs=require("fs"),exists=fs.exists||path.exists,test=require("tap").test,_0777=511,_0755=493;
test("sync",function(a){a.plan(4);var d=Math.floor(Math.random()*Math.pow(16,4)).toString(16),e=Math.floor(Math.random()*Math.pow(16,4)).toString(16),f=Math.floor(Math.random()*Math.pow(16,4)).toString(16),c="/tmp/"+[d,e,f].join("/");try{mkdirp.sync(c,_0755)}catch(b){return a.fail(b),a.end()}exists(c,function(b){a.ok(b,"file created");fs.stat(c,function(c,b){a.ifError(c);a.equal(b.mode&_0777,_0755);a.ok(b.isDirectory(),"target not a directory")})})});
